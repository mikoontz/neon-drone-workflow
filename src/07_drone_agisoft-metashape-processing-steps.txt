USGS Metashape Workflow

1. Adding photos
- followed instructions exactly
- disabled calibration cameras

2. Align photos
- Accuracy: high
- Key point limit: 60000
- Tie point limit: 0
- Generic preselection: no
- Reference preselection: yes
- Reset current alignment: no
- Adaptive camera model fitting: yes

- Accuracy: highest
- Key point limit: 60000
- Tie point limit: 0
- Generic preselection: yes
- Reference preselection: yes, Estimated
- Reset current alignment: no
- Apply masks to: None
- Guided image matching: no
- Adaptive camera model fitting: yes


3. Optimizing the photo alignment
- Tools -> Optimize cameras
- Changed Camera accuracy (deg) from default (10) to 2
- Selected Fit f; Fit cx, cy; Fit k1; Fit k2; Fit k3; Fit p1; Fit p2
- No projections below 100, but all Error (pix) still above 0.3

4. Error reduction - gradual selection
- Model -> Gradual Selection (instead of Edit -> Gradual Selection)
4a. Reconstruction uncertainty (goal is to get to Level 10 or lower using 2 runs of this procedure; lower than Level 50 is 'highly recommended'; don't delete more than half the points on any single iteration)
- 1st iteration of Reconstruction uncertainty: Level 30 resulted in deletion of ~50% of the points
- Reoptimize (Tools -> Optimize cameras) using same settings as before: Fit f; Fit cx, cy; Fit k1; Fit k2; Fit k3; Fit p1; Fit p2
- 2nd iteration of Reconstruction uncertainty: Level 10 resulted in deletion of ~12.5% of points 
- (another) Reoptimize (Tools -> Optimize cameras) using same settings as before: Fit f; Fit cx, cy; Fit k1; Fit k2; Fit k3; Fit p1; Fit p2 (minimum projections is 742, and 5-10% of photos now with Error (pix) < 0.3)
4b. Projection accuracy (goal is to reach a level of 2 or 3; if not possible, go to a level of about 50% of the points selected; run until you reach projection accuracy of 2)
- 1st iteration of Projection accuracy: Level 2 resulted in deletion of 19% of points
- Reoptimize (Tools -> Optimize cameras) using same settings as before: Fit f; Fit cx, cy; Fit k1; Fit k2; Fit k3; Fit p1; Fit p2 (minimum projections is 412, and ~90% of photos now with Error (pix) < 0.3)

4c. Tie point accuracy value set to 0.1
- Reoptimize (Tools -> Optimize cameras) by checking ALL settings. SEUW: 1.55397 -> 1.55325))
- Tie point accuracy value set to 0.2
- Reoptimize (Tools -> Optimize cameras) by checking ALL settings. SEUW: 0.776634 -> 0.776634))
- Tie point accuracy value set to 0.156
- Reoptimize (Tools -> Optimize cameras) by checking ALL settings. SEUW: 0.995679 -> 0.995679))

4d. Positional error
- Uncheck images with > 3m positional accuracy error
-

5. Place markers
- able to find and mark 4 out of the 9 GCP's in the RedEdge imagery
- entered lon/lat/elev data for each of the 4 GCPs
- reoptimize cameras with all values checked

6. Reprojection accuracy
- eliminate points (no more than 10% at a time) to get to a reprojection accuracy of 0.3
- was able to do this in one step
- reoptimize cameras using all settings checked

7. Build dense point cloud
- Quality: Ultra high
- Depth filtering: aggressive


RGB Workflow
1. Add photos
- disabled photos taken on take-off platform

2. Camera calibration
- Enable rolling shutter adjustment 

3. Estimate image quality
- all images with quality <0.7 are disabled

4. Align photos
- Accuracy: highest
- Key piont limit: 60000
- Tie point limit: 0
- Generic preselection: no
- Reference preselection: yes
- Adaptive camera model fitting: yes

5. Optimizing the photo alignment
- Tools -> Optimize cameras
- Selected Fit f; Fit cx, cy; Fit k1; Fit k2; Fit k3; Fit p1; Fit p2
- SEUW: 0.138227 -> 0.138196

6. Gradual selection
6a. Reconstruction uncertainty
- Level 34 to remove ~50% of points
- Reoptimize cameras: SEUW: 0.132965 -> 0.132321
- Level 22 to remove ~50% of points
- Reoptimize cameras (adaptive model fitting): SEUW: 0.1292 -> 0.128876

6b. Projection accuracy
- Level 2 resulted in deletion of ~30% of points

6c. Tie point accuracy
- reduced to 0.13
- SEUW: 1.06878 -> 1.06744

6d. Positional error
- Uncheck images with > 3m positional accuracy error
